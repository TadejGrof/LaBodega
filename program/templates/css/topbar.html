{% load zaloga_exstras %}

<style>
    /* Add a black background color to the top navigation */
.topnav {
  background-color: #333;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}
/* Add an active class to highlight the current page */
.active {
  background-color: #4CAF50;
  color: white;
}

/* Hide the link that should open and close the topnav on small screens */
.topnav .icon {
  display: none;
}

/* Dropdown container - needed to position the dropdown content */
.dropdown {
  float: left;
  overflow: hidden;
}
/* Style the dropdown button to fit inside the topnav */
.dropdown .dropbtn {
  font-size: 17px; 
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

/* Style the dropdown content (hidden by default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}
/* Style the links inside the dropdown */
.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

/* Add a dark background on topnav links and the dropdown button on hover */
.topnav a:hover, .dropdown:hover .dropbtn {
  background-color: #555;
  color: white;
}

/* Add a grey background to dropdown links on hover */
.dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

/* Show the dropdown menu when the user moves the mouse over the dropdown button */
.dropdown:hover .dropdown-content {
  display: block;
}


</style>

<div class="topnav" id="myTopnav">
  <a class="active" href="/">Home</a>
    {% if perms.zaloga.view_zaloga %}
        <div class="dropdown" id="zaloga">
            <button class="dropbtn"> {{slovar|keyvalue:'Zaloga'|keyvalue:jezik}}
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="myDropdown">
                <a href="{% url 'pregled_zaloge' %}" >{{slovar|keyvalue:'Pregled zaloge'|keyvalue:jezik}}</a>
                {% if perms.zaloga.add_dimenzija %}
                <a href="{% url 'nova_dimenzija' %}" >{{slovar|keyvalue:'Dodaj dimenzijo'|keyvalue:jezik}}</a>
                {% endif %}
                {% if perms.zaloga.add_inventura %}
                <a href="{% url 'baze' 'inventura' %}">{{slovar|keyvalue:'Inventura'|keyvalue:jezik}}</a>
                {% endif %}
                {% if perms.zaloga.view_inventura %}
                <a href="{% url 'arhiv_baz' 'inventura' %}">{{slovar|keyvalue:'Arhiv inventur'|keyvalue:jezik}}</a>
                {% endif %}
            </div>
        </div> 
    {% endif %}
    {% if perms.zaloga.view_odpis %}
        <div class="dropdown" id="odpis">
            <button class="dropbtn">{{slovar|keyvalue:'Odpis'|keyvalue:jezik}}
            <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="odpis_dropdown">
            {% if perms.zaloga.add_odpis %}
            <a href="{% url 'baze' 'odpis' %}">{{slovar|keyvalue:'Odpis'|keyvalue:jezik}}</a>
            {% endif %}
            <a href="{% url 'arhiv_baz' 'odpis'%}">{{slovar|keyvalue:'Arhiv odpisov'|keyvalue:jezik}}</a>
            </div>
        </div> 
    {% endif %}
    {% if perms.zaloga.view_prevzem %}
        <div class="dropdown" id="prevzem">
            <button class="dropbtn">{{slovar|keyvalue:'Prevzem'|keyvalue:jezik}}
            <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="prevzem">
            {% if perms.zaloga.add_prevzem %}
            <a href="{% url 'baze' 'prevzem' %}">{{slovar|keyvalue:'Prevzem'|keyvalue:jezik}}</a>
            {% endif %}
            <a href="{% url 'arhiv_baz' 'prevzem' %}">{{slovar|keyvalue:'Arhiv prevzemov'|keyvalue:jezik}}</a>
            </div>
        </div> 
    {% endif %}
    {% if perms.prodaja.view_prodaja %}
        <div class="dropdown" id="prodaja">
            <button class="dropbtn" >{{slovar|keyvalue:'Prodaja'|keyvalue:jezik}}
            <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="dnevna_prodaja">
            {% if perms.prodaja.add_vele_prodaja %}
            <a href="{% url 'baze' 'vele_prodaja' %}">{{slovar|keyvalue:'Nova vele prodaja'|keyvalue:jezik}}</a>
            {% endif %}
            {% if perms.prodaja.view_stranka %}
            <a href="{% url 'pregled_strank' %}">{{slovar|keyvalue:'Pregled strank'|keyvalue:jezik}}</a>
            {% endif %}
            {% if perms.prodaja.view_vele_prodaja %}
            <a href="{% url 'arhiv_baz' 'vele_prodaja' %}">{{slovar|keyvalue:'Arhiv vele prodaj'|keyvalue:jezik}}</a>
            {% endif %}
            <a href="{% url 'cenik_prodaje' 'vele_prodaja' %}">{{slovar|keyvalue:'Cenik vele prodaje'|keyvalue:jezik}}</a>
            <a href="{% url 'cenik_prodaje' 'dnevna_prodaja' %}">{{slovar|keyvalue:'Cenik dnevne prodaje'|keyvalue:jezik}}</a>
            {% if perms.prodaja.view_dnevna_prodaja %}
            <a href="{% url 'arhiv_baz' 'dnevna_prodaja' %}">{{slovar|keyvalue:'Arhiv dnevnih prodaj'|keyvalue:jezik}}</a>
            {% endif %}
            </div>
        </div>
    {% endif %}
    {% if perms.prodaja.add_dnevna_prodaja %}
        <a href="{% url 'dnevna_prodaja' %}">{{slovar|keyvalue:'Dnevna prodaja'|keyvalue:jezik}}</a>
    {% endif %}
    <div class="dropdown" id="racun">
        <button class="dropbtn" >{{ user.get_username }}
        <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content" id="profil">
            {% if perms.admin.view_logentry %}
            <a href="{% url 'admin:index' %}"> Admin </a>
            {% endif %}
            <a href="{% url 'logout' %}"> {{slovar|keyvalue:'Odjava'|keyvalue:jezik}} </a>
        </div>
    </div>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">&#9776;</a>
</div> 

<script>
    /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
    function myFunction() {
    var x = document.getElementById("myTopnav");
    if (x.className === "topnav") {
        x.className += " responsive";
    } else {
        x.className = "topnav";
    }
    } 
</script>